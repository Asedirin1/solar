{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React from'react';import PropTypes from'prop-types';import Marker from\"./MapMarker\";import Polyline from\"./MapPolyline\";import Polygon from\"./MapPolygon\";import{ColorPropType}from\"react-native-web/dist/index\";import{jsx as _jsx}from\"react/jsx-runtime\";var propTypes={geojson:PropTypes.object.isRequired,strokeColor:ColorPropType,fillColor:ColorPropType,strokeWidth:PropTypes.number,lineDashPhase:PropTypes.number,lineDashPattern:PropTypes.arrayOf(PropTypes.number),lineCap:PropTypes.oneOf(['butt','round','square']),lineJoin:PropTypes.oneOf(['miter','round','bevel']),miterLimit:PropTypes.number,zIndex:PropTypes.number,onPress:PropTypes.func,markerComponent:PropTypes.node};var Geojson=function Geojson(props){var overlays=makeOverlays(props.geojson.features);return _jsx(React.Fragment,{children:overlays.map(function(overlay,index){var fillColor=getColor(props,overlay,'fill','fillColor');var strokeColor=getColor(props,overlay,'stroke','strokeColor');var markerColor=getColor(props,overlay,'marker-color','color');var strokeWidth=getStrokeWidth(props,overlay);if(overlay.type==='point'){return _jsx(Marker,{coordinate:overlay.coordinates,image:props.image,pinColor:markerColor,zIndex:props.zIndex,onPress:function onPress(){return props.onPress&&props.onPress(overlay);},children:props.markerComponent},index);}if(overlay.type==='polygon'){return _jsx(Polygon,{coordinates:overlay.coordinates,holes:overlay.holes,strokeColor:strokeColor,fillColor:fillColor,strokeWidth:strokeWidth,tappable:props.tappable,onPress:function onPress(){return props.onPress&&props.onPress(overlay);},zIndex:props.zIndex},index);}if(overlay.type==='polyline'){return _jsx(Polyline,{coordinates:overlay.coordinates,strokeColor:strokeColor,strokeWidth:strokeWidth,lineDashPhase:props.lineDashPhase,lineDashPattern:props.lineDashPattern,lineCap:props.lineCap,lineJoin:props.lineJoin,miterLimit:props.miterLimit,zIndex:props.zIndex,tappable:props.tappable,onPress:function onPress(){return props.onPress&&props.onPress(overlay);}},index);}})});};Geojson.propTypes=propTypes;export default Geojson;export var makeOverlays=function makeOverlays(features){var points=features.filter(function(f){return f.geometry&&(f.geometry.type==='Point'||f.geometry.type==='MultiPoint');}).map(function(feature){return makeCoordinates(feature).map(function(coordinates){return makeOverlay(coordinates,feature);});}).reduce(flatten,[]).map(function(overlay){return _objectSpread(_objectSpread({},overlay),{},{type:'point'});});var lines=features.filter(function(f){return f.geometry&&(f.geometry.type==='LineString'||f.geometry.type==='MultiLineString');}).map(function(feature){return makeCoordinates(feature).map(function(coordinates){return makeOverlay(coordinates,feature);});}).reduce(flatten,[]).map(function(overlay){return _objectSpread(_objectSpread({},overlay),{},{type:'polyline'});});var multipolygons=features.filter(function(f){return f.geometry&&f.geometry.type==='MultiPolygon';}).map(function(feature){return makeCoordinates(feature).map(function(coordinates){return makeOverlay(coordinates,feature);});}).reduce(flatten,[]);var polygons=features.filter(function(f){return f.geometry&&f.geometry.type==='Polygon';}).map(function(feature){return makeOverlay(makeCoordinates(feature),feature);}).reduce(flatten,[]).concat(multipolygons).map(function(overlay){return _objectSpread(_objectSpread({},overlay),{},{type:'polygon'});});return points.concat(lines).concat(polygons);};var flatten=function flatten(prev,curr){return prev.concat(curr);};var makeOverlay=function makeOverlay(coordinates,feature){var overlay={feature:feature};if(feature.geometry.type==='Polygon'||feature.geometry.type==='MultiPolygon'){overlay.coordinates=coordinates[0];if(coordinates.length>1){overlay.holes=coordinates.slice(1);}}else{overlay.coordinates=coordinates;}return overlay;};var makePoint=function makePoint(c){return{latitude:c[1],longitude:c[0]};};var makeLine=function makeLine(l){return l.map(makePoint);};var makeCoordinates=function makeCoordinates(feature){var g=feature.geometry;if(g.type==='Point'){return[makePoint(g.coordinates)];}else if(g.type==='MultiPoint'){return g.coordinates.map(makePoint);}else if(g.type==='LineString'){return[makeLine(g.coordinates)];}else if(g.type==='MultiLineString'){return g.coordinates.map(makeLine);}else if(g.type==='Polygon'){return g.coordinates.map(makeLine);}else if(g.type==='MultiPolygon'){return g.coordinates.map(function(p){return p.map(makeLine);});}else{return[];}};var doesOverlayContainProperty=function doesOverlayContainProperty(overlay,property){return overlay.feature&&overlay.feature.properties&&overlay.feature.properties[property];};var getRgbaFromHex=function getRgbaFromHex(hex){var alpha=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var _hex$match$map=hex.match(/\\w\\w/g).map(function(x){return parseInt(x,16);}),_hex$match$map2=_slicedToArray(_hex$match$map,3),r=_hex$match$map2[0],g=_hex$match$map2[1],b=_hex$match$map2[2];return\"rgba(\"+r+\",\"+g+\",\"+b+\",\"+alpha+\")\";};var getColor=function getColor(props,overlay,colorType,overrideColorProp){if(props.hasOwnProperty(overrideColorProp)){return props[overrideColorProp];}if(doesOverlayContainProperty(overlay,colorType)){var color=overlay.feature.properties[colorType];var opacityProperty=colorType+'-opacity';if(doesOverlayContainProperty(overlay,opacityProperty)&&color[0]==='#'){color=getRgbaFromHex(color,overlay.feature.properties[opacityProperty]);}return color;}return null;};var getStrokeWidth=function getStrokeWidth(props,overlay){if(props.hasOwnProperty('strokeWidth')){return props['strokeWidth'];}if(doesOverlayContainProperty(overlay,'stroke-width')){return overlay.feature.properties['stroke-width'];}return 0;};","map":{"version":3,"sources":["C:/Users/Adith/sp/node_modules/react-native-maps/lib/components/Geojson.js"],"names":["React","PropTypes","Marker","Polyline","Polygon","ColorPropType","propTypes","geojson","object","isRequired","strokeColor","fillColor","strokeWidth","number","lineDashPhase","lineDashPattern","arrayOf","lineCap","oneOf","lineJoin","miterLimit","zIndex","onPress","func","markerComponent","node","Geojson","props","overlays","makeOverlays","features","map","overlay","index","getColor","markerColor","getStrokeWidth","type","coordinates","image","holes","tappable","points","filter","f","geometry","feature","makeCoordinates","makeOverlay","reduce","flatten","lines","multipolygons","polygons","concat","prev","curr","length","slice","makePoint","c","latitude","longitude","makeLine","l","g","p","doesOverlayContainProperty","property","properties","getRgbaFromHex","hex","alpha","match","x","parseInt","r","b","colorType","overrideColorProp","hasOwnProperty","color","opacityProperty"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Marker from './MapMarker';\nimport Polyline from './MapPolyline';\nimport Polygon from './MapPolygon';\nimport { ColorPropType } from 'react-native';\n\nconst propTypes = {\n  /**\n   * [Geojson](https://geojson.org/) description of object.\n   */\n  geojson: PropTypes.object.isRequired,\n\n  /**\n   * The stroke color to use for the path.\n   */\n  strokeColor: ColorPropType,\n\n  /**\n   * The fill color to use for the path.\n   */\n  fillColor: ColorPropType,\n\n  /**\n   * The stroke width to use for the path.\n   */\n  strokeWidth: PropTypes.number,\n\n  /**\n   * The offset (in points) at which to start drawing the dash pattern.\n   *\n   * Use this property to start drawing a dashed line partway through a segment or gap. For\n   * example, a phase value of 6 for the patter 5-2-3-2 would cause drawing to begin in the\n   * middle of the first gap.\n   *\n   * The default value of this property is 0.\n   *\n   * @platform ios\n   */\n  lineDashPhase: PropTypes.number,\n\n  /**\n   * An array of numbers specifying the dash pattern to use for the path.\n   *\n   * The array contains one or more numbers that indicate the lengths (measured in points) of the\n   * line segments and gaps in the pattern. The values in the array alternate, starting with the\n   * first line segment length, followed by the first gap length, followed by the second line\n   * segment length, and so on.\n   *\n   * This property is set to `null` by default, which indicates no line dash pattern.\n   *\n   * @platform ios\n   */\n  lineDashPattern: PropTypes.arrayOf(PropTypes.number),\n\n  /**\n   * The line cap style to apply to the open ends of the path.\n   * The default style is `round`.\n   *\n   * @platform ios\n   */\n  lineCap: PropTypes.oneOf(['butt', 'round', 'square']),\n\n  /**\n   * The line join style to apply to corners of the path.\n   * The default style is `round`.\n   *\n   * @platform ios\n   */\n  lineJoin: PropTypes.oneOf(['miter', 'round', 'bevel']),\n\n  /**\n   * The limiting value that helps avoid spikes at junctions between connected line segments.\n   * The miter limit helps you avoid spikes in paths that use the `miter` `lineJoin` style. If\n   * the ratio of the miter length—that is, the diagonal length of the miter join—to the line\n   * thickness exceeds the miter limit, the joint is converted to a bevel join. The default\n   * miter limit is 10, which results in the conversion of miters whose angle at the joint\n   * is less than 11 degrees.\n   *\n   * @platform ios\n   */\n  miterLimit: PropTypes.number,\n\n  /**\n   * The order in which this tile overlay is drawn with respect to other overlays. An overlay\n   * with a larger z-index is drawn over overlays with smaller z-indices. The order of overlays\n   * with the same z-index is arbitrary. The default zIndex is 0.\n   *\n   * @platform android\n   */\n  zIndex: PropTypes.number,\n\n  /**\n   * Callback that is called when the user presses on the polygon\n   */\n  onPress: PropTypes.func,\n\n  /**\n   * Component to render in place of the default marker when the overlay type is a `point`\n   *\n   */\n  markerComponent: PropTypes.node,\n};\n\nconst Geojson = props => {\n  const overlays = makeOverlays(props.geojson.features);\n  return (\n    <React.Fragment>\n      {overlays.map((overlay, index) => {\n        const fillColor = getColor(props, overlay, 'fill', 'fillColor');\n        const strokeColor = getColor(props, overlay, 'stroke', 'strokeColor');\n        const markerColor = getColor(props, overlay, 'marker-color', 'color');\n        const strokeWidth = getStrokeWidth(props, overlay);\n        if (overlay.type === 'point') {\n          return (\n            <Marker\n              key={index}\n              coordinate={overlay.coordinates}\n              image={props.image}\n              pinColor={markerColor}\n              zIndex={props.zIndex}\n              onPress={() => props.onPress && props.onPress(overlay)}\n            >\n              {props.markerComponent}\n            </Marker>\n          );\n        }\n        if (overlay.type === 'polygon') {\n          return (\n            <Polygon\n              key={index}\n              coordinates={overlay.coordinates}\n              holes={overlay.holes}\n              strokeColor={strokeColor}\n              fillColor={fillColor}\n              strokeWidth={strokeWidth}\n              tappable={props.tappable}\n              onPress={() => props.onPress && props.onPress(overlay)}\n              zIndex={props.zIndex}\n            />\n          );\n        }\n        if (overlay.type === 'polyline') {\n          return (\n            <Polyline\n              key={index}\n              coordinates={overlay.coordinates}\n              strokeColor={strokeColor}\n              strokeWidth={strokeWidth}\n              lineDashPhase={props.lineDashPhase}\n              lineDashPattern={props.lineDashPattern}\n              lineCap={props.lineCap}\n              lineJoin={props.lineJoin}\n              miterLimit={props.miterLimit}\n              zIndex={props.zIndex}\n              tappable={props.tappable}\n              onPress={() => props.onPress && props.onPress(overlay)}\n            />\n          );\n        }\n      })}\n    </React.Fragment>\n  );\n};\n\nGeojson.propTypes = propTypes;\n\nexport default Geojson;\n\nexport const makeOverlays = features => {\n  const points = features\n    .filter(\n      f =>\n        f.geometry &&\n        (f.geometry.type === 'Point' || f.geometry.type === 'MultiPoint')\n    )\n    .map(feature =>\n      makeCoordinates(feature).map(coordinates =>\n        makeOverlay(coordinates, feature)\n      )\n    )\n    .reduce(flatten, [])\n    .map(overlay => ({ ...overlay, type: 'point' }));\n\n  const lines = features\n    .filter(\n      f =>\n        f.geometry &&\n        (f.geometry.type === 'LineString' ||\n          f.geometry.type === 'MultiLineString')\n    )\n    .map(feature =>\n      makeCoordinates(feature).map(coordinates =>\n        makeOverlay(coordinates, feature)\n      )\n    )\n    .reduce(flatten, [])\n    .map(overlay => ({ ...overlay, type: 'polyline' }));\n\n  const multipolygons = features\n    .filter(f => f.geometry && f.geometry.type === 'MultiPolygon')\n    .map(feature =>\n      makeCoordinates(feature).map(coordinates =>\n        makeOverlay(coordinates, feature)\n      )\n    )\n    .reduce(flatten, []);\n\n  const polygons = features\n    .filter(f => f.geometry && f.geometry.type === 'Polygon')\n    .map(feature => makeOverlay(makeCoordinates(feature), feature))\n    .reduce(flatten, [])\n    .concat(multipolygons)\n    .map(overlay => ({ ...overlay, type: 'polygon' }));\n\n  return points.concat(lines).concat(polygons);\n};\n\nconst flatten = (prev, curr) => prev.concat(curr);\n\nconst makeOverlay = (coordinates, feature) => {\n  let overlay = {\n    feature,\n  };\n  if (\n    feature.geometry.type === 'Polygon' ||\n    feature.geometry.type === 'MultiPolygon'\n  ) {\n    overlay.coordinates = coordinates[0];\n    if (coordinates.length > 1) {\n      overlay.holes = coordinates.slice(1);\n    }\n  } else {\n    overlay.coordinates = coordinates;\n  }\n  return overlay;\n};\n\nconst makePoint = c => ({ latitude: c[1], longitude: c[0] });\n\nconst makeLine = l => l.map(makePoint);\n\nconst makeCoordinates = feature => {\n  const g = feature.geometry;\n  if (g.type === 'Point') {\n    return [makePoint(g.coordinates)];\n  } else if (g.type === 'MultiPoint') {\n    return g.coordinates.map(makePoint);\n  } else if (g.type === 'LineString') {\n    return [makeLine(g.coordinates)];\n  } else if (g.type === 'MultiLineString') {\n    return g.coordinates.map(makeLine);\n  } else if (g.type === 'Polygon') {\n    return g.coordinates.map(makeLine);\n  } else if (g.type === 'MultiPolygon') {\n    return g.coordinates.map(p => p.map(makeLine));\n  } else {\n    return [];\n  }\n};\n\nconst doesOverlayContainProperty = (overlay, property) => {\n  // Geojson may have 0 for the opacity when intention is to not specify the\n  // opacity. Therefore, we evaluate the truthiness of the propery where 0\n  // would return false.\n  return (\n    overlay.feature &&\n    overlay.feature.properties &&\n    overlay.feature.properties[property]\n  );\n};\n\nconst getRgbaFromHex = (hex, alpha = 1) => {\n  const [r, g, b] = hex.match(/\\w\\w/g).map(x => parseInt(x, 16));\n  return `rgba(${r},${g},${b},${alpha})`;\n};\n\nconst getColor = (props, overlay, colorType, overrideColorProp) => {\n  if (props.hasOwnProperty(overrideColorProp)) {\n    return props[overrideColorProp];\n  }\n  if (doesOverlayContainProperty(overlay, colorType)) {\n    let color = overlay.feature.properties[colorType];\n    const opacityProperty = colorType + '-opacity';\n    if (\n      doesOverlayContainProperty(overlay, opacityProperty) &&\n      color[0] === '#'\n    ) {\n      color = getRgbaFromHex(\n        color,\n        overlay.feature.properties[opacityProperty]\n      );\n    }\n    return color;\n  }\n  return null;\n};\n\nconst getStrokeWidth = (props, overlay) => {\n  if (props.hasOwnProperty('strokeWidth')) {\n    return props['strokeWidth'];\n  }\n  if (doesOverlayContainProperty(overlay, 'stroke-width')) {\n    return overlay.feature.properties['stroke-width'];\n  }\n  return 0;\n};\n"]},"metadata":{},"sourceType":"module"}